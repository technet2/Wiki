<html !DOCTYPE html>

<head>
    <script type='text/javascript' src='https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.5.2.min.js'></script>
    <link rel='stylesheet' type='text/css' href='include/LayoutMisc.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle2.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle3.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/DynamicStyle.css' xmlns='http://www.w3.org/1999/xhtml'>
</head>

<body style='margin:20px !important;'>

    <div id='theHeader'></div>

    <div id='theBreadcrumb'>
        <div class='breadcrumb-list'>
    <span class='breadcrumb-item'><a class='internal-link view-home' href='https://github.com/technet2/Wiki/tree/master/docs'>Wiki</a></span>

    <span class='separator'><span style='display:none;'></span>&nbsp;&gt;&nbsp;</span>
    <span class='breadcrumb-item'>
        <a href='/Wiki/articles/PageIndex1.html'>TechNet Articles</a>
    </span>

    <span class='breadcrumb-item'>
        <span class='separator'><span style='display:none;'></span>&nbsp;&gt;&nbsp;</span>
        <span class='breadcrumb-item'>
            <a href='https://github.com/technet2/Wiki/tree/master/docs/51633.advertencia-para-usuarios-de-redes-sociales-y-vendedores-de-servicios-su-ubicacion-real-potencialmente-expuesta-vulnerabilidades-de-triangulacion-con-ejemplos-usando-la-api-de-bing-maps-es-mx.html' class='last'>Advertencia para usuarios de redes sociales y vendedores de servicios: su ubicaci&#243;n real potencialmente expuesta. Vulnerabilidades de triangulaci&#243;n, con ejemplos, usando la API de Bing Maps(es-MX) - TechNet Articles - United States (English) - TechNet Wiki</a>
        </span>
    </span>
</div>

    </div>

    <div id='theOther'>
        <div class='content-fragment page-navigation no-wrapper' id='fragment-6614'>
    <div class='content-fragment-inner fiji-content-fragment-inner'>
        <div class='content-fragment-top fiji-content-fragment-top'><div class='r1 fiji-r1'></div><div class='r2 fiji-r2'></div><div class='r3 fiji-r3'></div><div class='r4 fiji-r4'></div></div><div class='content-fragment-content'>

            <div class='navigation-list-header'></div>
            <ul class='navigation-list'>

                <li class='navigation-item selected'>
                    <a class='internal-link view-wiki-page' href='#'>
                        <span></span>
                        Article
                    </a>
                </li>

                <li class='navigation-item'>
                    <a class='internal-link wiki-page-history' href='https://github.com/technet2/Wiki/commits/master/docs/51633.advertencia-para-usuarios-de-redes-sociales-y-vendedores-de-servicios-su-ubicacion-real-potencialmente-expuesta-vulnerabilidades-de-triangulacion-con-ejemplos-usando-la-api-de-bing-maps-es-mx.html'>
                        <span></span>
                        History
                    </a>
                </li>

            </ul>
            <div class='navigation-list-footer'></div>
        </div>
        <div class='content-fragment-footer'></div>
        <div class='content-fragment-bottom fiji-content-fragment-bottom'><div class='r1 fiji-r1'></div><div class='r2 fiji-r2'></div><div class='r3 fiji-r3'></div><div class='r4 fiji-r4'></div></div>
    </div>
</div>
    </div>

    <h1 class='post-name'>Advertencia para usuarios de redes sociales y vendedores de servicios: su ubicaci&#243;n real potencialmente expuesta. Vulnerabilidades de triangulaci&#243;n, con ejemplos, usando la API de Bing Maps(es-MX) - TechNet Articles - United States (English) - TechNet Wiki</h1>
            
    <!-- AUTO ADDED ABOVE -->

    <div class="post-content user-defined-markup">

Artículo Original por <a href="https://social.technet.microsoft.com/wiki/149154/ProfileUrlRedirect.ashx">
Pete Laker</a>:&nbsp;https://social.technet.microsoft.com/wiki/contents/articles/51624.warning-to-social-media-users-and-service-sellers-your-true-location-potentially-exposed-triangulation-vulnerabilities-with-examples-using-bing-maps-api.aspx<br />
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introducción</a></li><li class="hierarchy-item"><a href="#Add_a_map_to_a_web_page">Añadir el mapa al sitio web</a></li><li class="hierarchy-item"><a href="#Plotting_circles_and_donuts">Trazando círculos y polígonos</a></li><li class="hierarchy-item"><a href="#Intersecting_shapes_to_find_the_common_area">Intersectando formas para encontrar un área común</a></li><li class="hierarchy-item"><a href="#Gumtree_Seller_Triangulation_Example">Ejemplo de triangulación del vendedor Gumtree</a></li><li class="hierarchy-item"><a href="#The_solution_Binning">La Solución - Binning</a></li><li class="hierarchy-item"><a href="#Summary">Resumen</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#See_also">Ver también</a></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></div><br />
<br />
<h1 style="line-height:28.6px;"><a name="Introduction"></a>Introducción</h1>
<br />
Puede hacer cosas importantes con Bing Maps y los módulos geoespaciales que vienen con la API y los servicios de soporte.<br />
<br />
<strong><span style="font-size:12.1px;">Este ejercicio es una advertencia para cualquier persona que use servicios similares a eBay, Craigslist, Gumtree o incluso sitios de citas / conexión.</span><br />
<br />
<span style="font-size:12.1px;">Algunos sitios web todavía no tienen suficiente cuidado como para ocultar su dirección real de la casa / cuenta.</span></strong><br />
<br />
<span style="font-size:12.1px;">Hay muchas razones legítimas por las cuales una persona puede querer ofrecer un servicio. Un limpiador, por ejemplo, o una peluquería móvil. Es posible que no quieran dar su dirección personal a nadie en Internet. Muchos sitios
 solo muestran la ubicación indicada del vendedor. Sin embargo, todavía tienen que registrarse en el sitio web usando su dirección personal completa, para facturación y cuentas.</span><br />
<span style="font-size:12.1px;"><br />
</span><span style="font-size:12.1px;">Incluso si oculta direcciones específicas, como se muestra a continuación, ¡algunos sitios aún calculan la distancia en función de su código postal exacto!</span><br />
<br />
<span style="font-size:12.1px;">Por lo tanto, ¡todavía se te puede encontrar a través de esa antigua técnica de radar de triangulación!</span><br />
<br />
<span style="font-size:12.1px;">Algunos sitios creen que es suficiente para redondear su distancia hasta un margen más amplio, como &quot;dentro de 5 millas&quot; o &quot;20-30&quot; millas.</span><br />
<br />
<span style="font-size:12.1px;">¿Suena como un área lo suficientemente grande como para perderse cierto? ¡¡Incorrecto!!</span><br />
<br />
<span style="font-size:12.1px;">En algunos sitios que probé, las búsquedas múltiples de ubicaciones en movimiento gradual, encontraron el punto exacto en el que &quot;20-30&quot; cambia a &quot;10-20&quot;, o hasta &quot;30-40&quot;.</span><br />
<span style="font-size:12.1px;"><br />
</span><span style="font-size:12.1px;">Si la función de búsqueda está mal escrita, ese es el punto en el que puede decir que el usuario está exactamente a 20 o 30 millas de distancia (dependiendo de la manera en que se esté moviendo), dentro de una milla. ¡De
 hecho, hasta un cuarto de milla, en el ejemplo de abajo!</span><br />
<span style="font-size:12.1px;"><br />
</span><span style="font-size:12.1px;">Por supuesto, eso todavía está en algún lugar en la ruta de la circunferencia de un círculo de 30 millas de radio. Eso es C = 2 * π * R, por supuesto. En otras palabras, ¡un camino de 188.5 millas cuadradas!</span><br />
<br />
<span style="font-size:12.1px;">Es entonces cuando necesitas buscar más éxitos desde otros ángulos.<br />
</span><br />
<span style="font-size:12.1px;">Con múltiples anillos de búsqueda, estas búsquedas se combinan para revelar un área de intersección de todas las búsquedas.</span><br />
<span style="font-size:12.1px;">Esta intersección identifica al individuo o elemento en un área muy pequeña.</span><br />
<br />
<span style="font-size:12.1px;">Probé bastantes y esto a menudo es increíblemente preciso</span>.<br />
<br />
<strong>Estaba buscando ejemplos donde mover la dirección de mi cuenta a un código postal adyacente hacía que el punto de triangulación también se moviera.<br />
</strong><br />
<span style="font-size:12.1px;">A veces pude localizar ubicaciones remotas, o un área de código postal que representa la mitad de un lado de una calle corta.</span><br />
<br />
<span style="font-size:12.1px;">Pruébelo usted mismo.</span><br />
<span style="font-size:12.1px;">No se necesita servidor web.</span><br />
<span style="font-size:12.1px;">Solo un editor de archivos, un navegador y algunos conceptos básicos de JavaScript</span>.<br />
<br />
<h1 style="line-height:28.6px;"><a name="Add_a_map_to_a_web_page"></a>Añadir el mapa al sitio web</h1>
<br />
Puede ser cualquier archivo html, incluso uno en su escritorio.<br />
Dependiendo de cómo sirva los datos, Bing Maps API no necesita un servidor, solo un navegador para ejecutar la página web en.<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code>&nbsp;<code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">&quot;map-wrapper&quot;</code><code style="color:#000000;">&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code>&nbsp;<code style="color:#808080;">id</code><code style="color:#000000;">=</code><code style="color:blue;">&#39;myMap&#39;</code><code style="color:#000000;">&gt;&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">script</code><code style="color:#000000;">&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">var map;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">function loadMapScenario() {</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">map = new Microsoft.Maps.Map(document.getElementById(&#39;myMap&#39;),</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">allowHidingLabelsOfRoad: true,</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">});</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">script</code><code style="color:#000000;">&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">script</code>&nbsp;<code style="color:#808080;">type</code><code style="color:#000000;">=</code><code style="color:blue;">&#39;text/javascript&#39;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;</code><span><code style="color:#808080;">src</code><code style="color:#000000;">=</code><code style="color:blue;">&#39;<a href="https://www.bing.com/api/maps/mapcontrol?key=YOURKEY&amp;callback=loadMapScenario">https://www.bing.com/api/maps/mapcontrol?key=YOURKEY&amp;callback=loadMapScenario</a>&nbsp;Jump
 &#39;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;</code><span><code style="color:#000000;">async defer&gt;&lt;/</code><code style="color:#006699;font-weight:bold;">script</code><code style="color:#000000;">&gt;</code></span></div>
</div>
<br />
<br />
Los enlaces al final de este artículo lo ayudarán a comenzar.<br />
Voy a omitir los conceptos básicos ya que esto no es solo un 101 en el uso de Bing Maps.<br />
<strong><br />
Este es más un análisis de vulnerabilidad: utilizar formas y triangulación facilitadas por la API de Bing Maps, el mapa y sus increíbles módulos.</strong><br />
<br />
<br />
<h1 style="line-height:28.6px;"><a name="Plotting_circles_and_donuts"></a>Trazando círculos y polígonos</h1>
<br />
Generar círculos en los mapas solía ser bastante doloroso, ya que system.drawing no estaba realmente orientado para la longitud y las latitudes.<br />
Necesitarías crear un objeto de dibujo lo suficientemente grande y necesitarías multiplicar tu ubicación en un entero, luego dividir de nuevo después.<br />
<br />
Pero usando la librería de Javascript&nbsp;<strong>Microsoft.Maps.SpatialMath,</strong>&nbsp;todo es muy simple nuevamente.<br />
<br />
A continuación se muestra el código para agregar un polígono regular simple con 36 lados, que presenta un polígono de aspecto circular:<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">Microsoft.Maps.loadModule(&quot;Microsoft.Maps.SpatialMath&quot;, function () {</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">var path = Microsoft.Maps.SpatialMath.getRegularPolygon(_loc, RadiusMeters, 36, Microsoft.Maps.SpatialMath.Meters);</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">var outerPoly = new Microsoft.Maps.Polygon(path,</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">fillColor: &#39;rgba(0, 0, 0, 0.5)&#39;,</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">strokeColor: &#39;black&#39;,</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">strokeThickness: 0.5</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">});</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">map.entities.push(outerPoly);</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">}</code></span></div>
</div>
<br />
<br />
Si el resultado de su búsqueda tiene una cifra mínima / máxima, por ejemplo &quot;20-30&quot;, entonces necesita forjar un agujero en su polígono.<br />
Esto se logra llamando a la función Microsoft.Maps.SpatialMath.Geometry.difference, que devuelve el bit de la primera forma que NO está en la segunda forma.<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">if</code>&nbsp;<code style="color:#000000;">(_search.MinDistance == 0 || (_search.MinDistance - margin &lt;= 0)) {</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#008200;">// Push as solid circle</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">sysCirclesLayer.add(outerPoly);</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">triCanvasArray.push(outerPoly);</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">}</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">else</code>&nbsp;<code style="color:#000000;">{</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#008200;">// Push as donut</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">holeRad = _search.MinDistance - margin;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">path = Microsoft.Maps.SpatialMath.getRegularPolygon(_loc, ((holeRad) * 1609.34), 36, Microsoft.Maps.SpatialMath.Meters);</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">innerPoly =&nbsp;</code><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Polygon(path);</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">donut = Microsoft.Maps.SpatialMath.Geometry.difference(outerPoly, innerPoly);</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">sysCirclesLayer.add(donut);</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">triCanvasArray.push(donut);</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">}</code></span></div>
</div>
<br />
<br />
<h1 style="line-height:28.6px;"><a name="Intersecting_shapes_to_find_the_common_area"></a>Intersectando formas para encontrar un área común</h1>
<br />
Una vez que haya creado una colección de círculos o anillos de espuma, puede empujarlos a cada uno, a través de un rectángulo verde de base, dejando solo las áreas compartidas:<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">Microsoft.Maps.loadModule(</code><code style="color:blue;">&quot;Microsoft.Maps.SpatialMath&quot;</code><code style="color:#000000;">,&nbsp;</code><code style="color:#006699;font-weight:bold;">function</code>&nbsp;<code style="color:#000000;">()
 {</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">bnds = Microsoft.Maps.SpatialMath.Geometry.bounds(triCanvasArray);</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">cent = Microsoft.Maps.SpatialMath.Geometry.centroid(triCanvasArray);</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">halfWidth = bnds.width / 2;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">halfHeight = bnds.height / 2;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">bndAry = [</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude - halfHeight, cent.longitude - halfWidth),</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude - halfHeight, cent.longitude &#43; halfWidth),</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude &#43; halfHeight, cent.longitude &#43; halfWidth),</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude &#43; halfHeight, cent.longitude - halfWidth),</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude - halfHeight, cent.longitude - halfWidth),</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">];</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">rect =&nbsp;</code><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Polygon(bndAry,</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">fillColor:&nbsp;</code><code style="color:blue;">&#39;rgba(0, 255, 0, 0.5)&#39;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">});</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">for</code>&nbsp;<code style="color:#000000;">(</code><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">a
 = 0; a &lt; triCanvasArray.length; a&#43;&#43;) {</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">newRect = Microsoft.Maps.SpatialMath.Geometry.intersection(rect, triCanvasArray[a]);</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">rect = newRect;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">spatMathTriLayer.add(rect);</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">tLoc =&nbsp;</code><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Location(cent.latitude,
 cent.longitude)</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">var</code>&nbsp;<code style="color:#000000;">tPin =&nbsp;</code><code style="color:#006699;font-weight:bold;">new</code>&nbsp;<code style="color:#000000;">Microsoft.Maps.Pushpin(tLoc,
 {&nbsp;</code><code style="color:blue;">&#39;draggable&#39;</code><code style="color:#000000;">:&nbsp;</code><code style="color:#006699;font-weight:bold;">false</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;color&#39;</code><code style="color:#000000;">:&nbsp;</code><code style="color:blue;">&#39;green&#39;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;text&#39;</code><code style="color:#000000;">:&nbsp;</code><code style="color:blue;">&#39;O&#39;</code>&nbsp;<code style="color:#000000;">});</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">spatMathTriLayer.add(tPin);</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">});</code></span></div>
</div>
<br />
<br />
<h1 style="line-height:28.6px;"><a name="Gumtree_Seller_Triangulation_Example"></a>Ejemplo de triangulación del vendedor Gumtree</h1>
<br />
<span style="font-size:12.1px;">También hay muchos usos positivos para esto ...</span><br />
<br />
<span style="font-size:12.1px;">Rastreando artículos robados en sitios de subastas, por ejemplo.</span><br />
<br />
<span style="font-size:12.1px;">No recomendaría visitar la casa o el lugar de trabajo de un vendedor para reclamar sus artículos, ¡quienes pueden haberlo comprado a alguien en una venta de garage!</span><br />
<br />
<span style="font-size:12.1px;">Sin embargo, a menudo es suficiente evidencia para que la policía local le haga una visita al vendedor y, potencialmente, recupere forenses equivalentes, una pista concreta, ¡o incluso su propiedad robada!</span><br />
<br />
<span style="font-size:12.1px;">Elegí un anuncio de ejemplo de Gumtree (sitio web gratuito de anuncios clasificados) para mostrarte. Escogí este simplemente porque anuncia su ubicación de código postal, por lo que podemos confirmar los resultados de la triangulación.</span><br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2538.CaptureCar1b.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2538.CaptureCar1b.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:152px;" /></a><br />
<span style="font-size:12.1px;">Arriba se muestra a 2 millas del código postal buscado.</span><br />
<br />
<span style="font-size:12.1px;">Este anuncio [ahora anterior] es de una compañía llamada &quot;Ford Wimbledon&quot;, cuya dirección es esta ubicación del mapa que se muestra</span>.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/7183.CaptureCar.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/7183.CaptureCar.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:363px;" /></a><br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2620.CaptureCar2.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2620.CaptureCar2.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:278px;" /></a><br />
<br />
La herramienta de búsqueda le permite especificar un código postal completo para consultar desde.&nbsp;<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2061.CaptureCar1a.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2061.CaptureCar1a.PNG" style="margin:5px;border:1px solid #bfbfbf;width:392px;height:361px;" /></a><br />
<br />
Los resultados están abajo a un cuarto de milla.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/4705.CaptureCar1.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/4705.CaptureCar1.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:167px;" /></a><br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2548.CaptureCar1c.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2548.CaptureCar1c.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:152px;" /></a><br />
<br />
Las búsquedas adicionales reducen la ubicación a un área pequeña, que incluso se puede visitar en Street View.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/1300.CaptureCar5b.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/1300.CaptureCar5b.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:381px;" /></a><br />
<br />
Al acercarse, se ve cuán pequeña es la superficie que excava, hasta una precisión de un cuarto de milla:<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/6433.CaptureCar6.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/6433.CaptureCar6.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:325px;" /></a><br />
<br />
<br />
El cambio a vista aérea confirma el mismo techo / código postal que la empresa publicitaria.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3443.CaptureCar5.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/3443.CaptureCar5.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:224px;" /></a><br />
<br />
<span style="font-size:12.1px;">Luego probé esto en bastantes sitios populares que tienen características de búsqueda a distancia.</span><span style="font-size:12.1px;"><br />
</span><br />
<span style="font-size:12.1px;">En este ejemplo a continuación, configuro la dirección del perfil como East London.</span><br />
<span style="font-size:12.1px;">Sin embargo, los resultados de búsqueda aún utilizan el código postal de la cuenta &quot;supuestamente privada&quot; para consultas de búsqueda</span>.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3365.CaptureTriangulated.PNG"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/3365.CaptureTriangulated.PNG" style="margin:5px;border:1px solid #bfbfbf;width:550px;height:610px;" /></a><br />
<em>Establecí la ubicación del perfil como East London (cuadro azul) pero los resultados de búsqueda indicaron la ubicación de la cuenta en &quot;TN2X 1SL&quot;, que era la dirección privada registrada.</em><br />
<br />
<strong><span style="font-size:12.1px;">Traté de cambiar el código postal de la cuenta a la siguiente dirección a una milla de distancia, y la triangulación también cambió.</span><br />
<span style="font-size:12.1px;"><br />
</span><br />
<span style="font-size:12.1px;">Esto mostró que estaba consultando la ubicación exacta del código postal, en lugar de la precisión mínima indicada de cinco millas</span>.</strong><br />
<br />
<span style="font-size:12.1px;">El área verde es la intersección de las tres búsquedas, utilizando los módulos Bing Maps API Spatial.Math.</span><br />
<span style="font-size:12.1px;"><br />
El punto verde es solo el &quot;centroide&quot; de la forma, si las tres búsquedas se combinaron en una forma.</span><br />
<span style="font-size:12.1px;"><br />
El círculo rojo es el círculo de precisión alrededor de un punto calculado utilizando el método &quot;antiguo&quot; de intersección de formas, utilizando el espacio de nombres system.drawing y un objeto gráfico.</span><br />
<br />
<span style="font-size:12.1px;">Así que es bueno ver que tanto el área verde como el círculo rojo coincidan</span>.<br />
<br />
<br />
<h1 style="line-height:28.6px;"><a name="The_solution_Binning"></a>La Solución - Binning</h1>
<br />
<span style="font-size:12.1px;">La solución a la triangulación (tan antigua como la técnica matemática misma) se denomina binning, que es una forma de cuantización estadística.</span><br />
<br />
<span style="font-size:12.1px;">Las ubicaciones se agrupan en una &quot;caja&quot; compartida y se consultan en conjunto, a la mitad de esa casilla. Esta es una técnica que también podemos emplear con las herramientas visuales en nuestro mapa de Bing, con la Interconexión
 de datos de Bing Map API.</span><br />
<br />
<span style="font-size:12.1px;">Binning le permite agrupar todos los códigos postales de un área e informar un centro (centroide) común y consistente para todos ellos. Como se muestra en la última imagen, el punto verde representa el centroide del límite de
 la forma, que representa todas las otras formas combinadas.</span><br />
<br />
<span style="font-size:12.1px;">Claramente, esto se estaba haciendo en aproximadamente la mitad de los sitios que probé y desde la mayoría de los que contacté.</span>.&nbsp;<br />
<br />
<strong><span style="font-size:14px;">Pruebe sus propios servicios favoritos y hágales saber si encuentra esta &quot;vulnerabilidad&quot;.<br />
</span></strong><br />
<br />
<h1 style="line-height:28.6px;"><a name="Summary"></a>Resumen</h1>
<br />
<span style="font-size:12.1px;">En conclusión, algunos servicios que probé no protegen adecuadamente a los usuarios de esta forma de ubicación más básica.</span><br />
<br />
<span style="font-size:12.1px;">Mucho antes de publicar esto, me puse en contacto con los peores delincuentes.</span><br />
<span style="font-size:12.1px;"><br />
Para ser justos, la mayoría se apresuraron a actuar.</span><br />
<br />
<span style="font-size:12.1px;">En el peor de los casos que encontré, el widget &quot;quién está en línea ahora&quot; de un sitio web de &quot;apoyo para la salud mental&quot; me permitió triangular el &quot;trabajador de soporte más cercano en su área&quot; a la dirección de una granja.
 Cuando llamé a la línea de ayuda para informarles, confirmaron que efectivamente estaban registrados como usuarios en el sitio en esa dirección, que por supuesto deberían haber sido privados para su cuenta.</span><br />
<span style="font-size:12.1px;"><br />
</span><span style="font-size:12.1px;">No hay duda de que hay muchísimos sitios más pequeños, que caen en la trampa y espero que se unan a mí, sin perder de vista esto.</span><br />
<br />
<span style="font-size:12.1px;">Esto pone de evidencia cómo, incluso en estos días, una implementación ingenua de una función de sitio web común puede poner en riesgo a los usuarios potencialmente vulnerables.</span><br />
<div><br />
<br />
</div>
<h2 style="line-height:25px;"><a name="See_also"></a>Ver también</h2>
<ul>
<li><a href="https://msdn.microsoft.com/en-us/library/mt743067.aspx" target="_blank">Data Binning Module</a>
</li><li><a href="https://msdn.microsoft.com/en-us/library/ff701734.aspx" target="_blank">Bing Spatial Data Services</a>&nbsp;
</li><li><a href="https://www.bing.com/maps" target="_blank" style="color:#00749e;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:12.11px;background-color:#ffffff;">Bing Maps - Official Site&nbsp;<img title="This link is external to TechNet Wiki. It will open in a new window." alt="Jump" src="https://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png" style="border-width:0px;border-style:solid;overflow:hidden;" /></a>
</li><li><a href="https://msdn.microsoft.com/en-us/library/dd877180.aspx" target="_blank" style="color:#00749e;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:12.11px;background-color:#ffffff;">Bing Maps API Documentation&nbsp;<img title="This link is external to TechNet Wiki. It will open in a new window." alt="Jump" src="https://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png" style="border-width:0px;border-style:solid;overflow:hidden;" /></a>
</li><li><a href="https://msdn.microsoft.com/en-us/library/mt712542.aspx" target="_blank" style="color:#00749e;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:12.11px;background-color:#ffffff;">Bing Maps V8 Web Control&nbsp;<img title="This link is external to TechNet Wiki. It will open in a new window." alt="Jump" src="https://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png" style="border-width:0px;border-style:solid;overflow:hidden;" /></a>
</li><li><a href="https://code.msdn.microsoft.com/site/search?f[0].Type=SearchText&amp;f[0].Value=bing%20maps" target="_blank" style="color:#00749e;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:12.11px;background-color:#ffffff;">Developer
 code samples&nbsp;<img title="This link is external to TechNet Wiki. It will open in a new window." alt="Jump" src="https://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png" style="border-width:0px;border-style:solid;overflow:hidden;" /></a>
</li><li><a href="https://msdn.microsoft.com/en-us/library/mt712663.aspx" target="_blank" style="color:#00749e;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:12.11px;background-color:#ffffff;">Extra Map API Modules&nbsp;<img title="This link is external to TechNet Wiki. It will open in a new window." alt="Jump" src="https://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png" style="border-width:0px;border-style:solid;overflow:hidden;" /></a>
</li></ul>
<br />

</div>
    
    

    <!-- AUTO ADDED BELOW -->

    <div id='theFooter'></div>

    <script type='text/javascript'>
    
        var headerContainer = jQuery('#theHeader');
        jQuery.ajax({
            url: 'include/GitHubPagesWikiHeader.html',
            success: function (data) {
                headerContainer.html(data);
            }
        });

        var footerContainer = jQuery('#theFooter');
        jQuery.ajax({
            url: 'include/GitHubPagesWikiFooter.html',
            success: function (data) {
                footerContainer.html(data);
            }
        });       

    </script>
</body>

</html>