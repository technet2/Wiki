<html !DOCTYPE html>

<head>
    <script type='text/javascript' src='https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.5.2.min.js'></script>
    <link rel='stylesheet' type='text/css' href='include/LayoutMisc.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle2.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/ReducedStyle3.css' xmlns='http://www.w3.org/1999/xhtml'>
    <link rel='stylesheet' type='text/css' href='include/DynamicStyle.css' xmlns='http://www.w3.org/1999/xhtml'>
</head>

<body style='margin:20px !important;'>

    <div id='theHeader'></div>

    <h1 class='post-name'>How to Build, Manage and Navigate the User Interface of a WPF Application - TechNet Articles - United States (English) - TechNet Wiki</h1>
            
    <!-- AUTO ADDED ABOVE -->

    <div class="post-content user-defined-markup">

<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#Download">Download</a></li><li class="hierarchy-item"><a href="#Navigate_Pages_or_Dashboard">Navigate Pages or Dashboard</a></li><li class="hierarchy-item"><a href="#NavigationWindow">NavigationWindow</a></li><li class="hierarchy-item"><a href="#Hyperlink">1. Hyperlink</a></li><li class="hierarchy-item"><a href="#Frame">2. Frame</a></li><li class="hierarchy-item"><a href="#NavigationService">3. NavigationService</a></li><li class="hierarchy-item"><a href="#Dashboard_Applications">Dashboard Applications</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Side-note_about_the_power_of_templates">Side-note about the power of templates</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Adding_UserControls_to_XAML">4. Adding UserControls to XAML</a></li><li class="hierarchy-item"><a href="#Parental_Guidance">5. Parent Cast</a></li><li class="hierarchy-item"><a href="#Inversion_of_Control_Dependancy_Injection_kind_of">6. Inversion of Control / Dependancy Injection (kind of)</a></li><li class="hierarchy-item"><a href="#Application_Controller_MVC">7. Application Controller (MVC)</a></li><li class="hierarchy-item"><a href="#Events">8. Events</a></li><li class="hierarchy-item"><a href="#Mediator">9. Mediator</a></li><li class="hierarchy-item"><a href="#Binding_amp_INotifyPropertyChanged">10. Binding &amp; INotifyPropertyChanged</a></li><li class="hierarchy-item"><a href="#MVVM_Dashboard_Example">11. MVVM Dashboard Example</a></li></ul><div class="hierarchy-list-footer"> </div></div>
<h2><a name="Introduction"></a>Introduction</h2>
<br />
This article is an attempt to cover&nbsp;some of the most common methods of creating, managing and navigating between pages &amp; controls of a WPF application.<br />
<br />
<p style="text-align:center;"><img alt=" " src="http://i1.code.msdn.s-msft.com/how-to-build-manage-and-fdd0074a/image/file/63418/1/clip1.gif" /></p>
<div style="text-align:left;">&nbsp;</div>
<p>&nbsp;</p>
<br />
The three main &quot;stages&quot; that we work with in WPF applications are <a href="http://msdn.microsoft.com/en-us/library/system.windows.window.aspx">
<strong>Windows</strong></a>,&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.web.ui.page.aspx"><strong>Pages</strong></a> and
<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.usercontrol.aspx">
<strong>UserControls</strong></a>. <br />
<br />
We will explore the various ways of navigating between views and loading forms or controls into the main view.
<p>&nbsp;</p>
<h2><a name="Download"></a>Download</h2>
<br />
<strong>An accompanying&nbsp;project, with working examples of all the techniques discussed here, is available at TechNet Samples</strong><br />
<br />
<a href="http://code.msdn.microsoft.com/How-to-Build-Manage-and-fdd0074a"><strong><span style="font-size:14px;">http://code.msdn.microsoft.com/How-to-Build-Manage-and-fdd0074a</span></strong></a><br />
<br />
<br />
<h2><a name="Navigate_Pages_or_Dashboard"></a>Navigate Pages&nbsp;or Dashboard</h2>
<br />
There are two main styles to user interface development in WPF, and it depends on how you lay out your application.&nbsp;You could also mix the two.<br />
<ol>
<li>Using the built in navigation system to jump between individual pages of the application
</li><li>Use a dashboard style &quot;main window&quot; and just update individual portions of the screen.<br />
<br />
</li></ol>
<h2><a name="NavigationWindow"></a>NavigationWindow</h2>
<p>The first, most fully featured and obvious controls for navigation are&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.frame.aspx"><strong>Frame</strong></a> and
<a href="http://msdn.microsoft.com/en-us/library/system.web.ui.page.aspx"><strong>Page</strong></a>. You could include a Frame in your main window and run it all from that, but if your project is going to be completely based around Page navigation, you can
 simply use a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.navigation.navigationwindow.aspx"><strong>NavigationWindow</strong></a> (from
<a href="http://msdn.microsoft.com/en-us/library/system.windows.navigation.aspx">
<strong>System.Windows.Navigation</strong></a>)&nbsp;instead of a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.window.aspx"><strong>Window</strong></a> for your main startup interface.<br />
<br />
<em><strong>MainWindow.xaml<br />
</strong></em></p>
<em><strong>
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">NavigationWindow</code>
<code style="color:gray;">x:Class</code><code style="color:black;">=</code><code style="color:blue;">&quot;ApplicationNavigation.MainWindow&quot;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">xmlns</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a>&quot;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">xmlns:x</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://schemas.microsoft.com/winfx/2006/xaml">http://schemas.microsoft.com/winfx/2006/xaml</a>&quot;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">Title</code><code style="color:black;">=</code><code style="color:blue;">&quot;Navigation Window&quot;</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;600&quot;</code>
<code style="color:gray;">Width</code><code style="color:black;">=</code><code style="color:blue;">&quot;550&quot;</code>
<code style="color:gray;">Background</code><code style="color:black;">=</code><code style="color:blue;">&quot;#FFFFE9E9&quot;</code>
<code style="color:gray;">Source</code><code style="color:black;">=</code><code style="color:blue;">&quot;View/Page0.xaml&quot;</code>
<code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">NavigationWindow</code><code style="color:black;">&gt;</code></span></div>
</div>
</strong></em>
<p><strong><em>&nbsp;<br />
</em></strong>This first navigation is triggered by the&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.navigation.navigationwindow.source.aspx"><strong>Source</strong></a> property of the NavigationWindow.<br />
<br />
</p>
<h2><a name="Hyperlink"></a>1. Hyperlink</h2>
<p>This is the most simple method for navigating between pages within a NavigationWindow or frame. There is no code-behind needed. It is therefore quite similar to a web page hyperlink.<br />
<br />
<strong><em>Page0.xaml</em></strong></p>
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">TextBlock</code>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;1&quot;</code>
<code style="color:gray;">HorizontalAlignment</code><code style="color:black;">=</code><code style="color:blue;">&quot;Center&quot;</code>
<code style="color:gray;">FontWeight</code><code style="color:black;">=</code><code style="color:blue;">&quot;Bold&quot;</code>
<code style="color:gray;">FontSize</code><code style="color:black;">=</code><code style="color:blue;">&quot;18&quot;</code>
<code style="color:gray;">Margin</code><code style="color:black;">=</code><code style="color:blue;">&quot;0,20,0,0&quot;</code>
<code style="color:black;">&gt;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Hyperlink</code>
<code style="color:gray;">NavigateUri</code><code style="color:black;">=</code><code style="color:blue;">&quot;Page1.xaml&quot;</code><code style="color:black;">&gt;1. Click this hyperlink&lt;/</code><code style="color:teal;font-weight:bold;">Hyperlink</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">TextBlock</code><code style="color:black;">&gt;</code></span></div>
</div>
<p>&nbsp;</p>
<h2><a name="Frame"></a>2. Frame</h2>
<div><br />
Rather than base your application around a NavigationWindow, it is more common to design your own&nbsp;top level framework (like an HTML FrameSet) with top level menus, navigation buttons, and other application level sections. A WPF Frame is not like an HTML Frame.
 It is more akin to an InnerFrame. <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.frame.aspx">
Frame</a>s also manage navigation history, and&nbsp;can be used&nbsp;the same as a NavigationWindow.<br />
<br />
<em><strong>Page1.xaml</strong></em><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;Auto&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;Auto&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">TextBlock</code>
<code style="color:gray;">Text</code><code style="color:black;">=</code><code style="color:blue;">&quot;Page 1&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Button</code>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;1&quot;</code>
<code style="color:gray;">Click</code><code style="color:black;">=</code><code style="color:blue;">&quot;Button_Click&quot;</code>
<code style="color:gray;">Content</code><code style="color:black;">=</code><code style="color:blue;">&quot;2. Frame Navigate&quot;</code>
<code style="color:gray;">Width</code><code style="color:black;">=</code><code style="color:blue;">&quot;200&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Frame</code>
<code style="color:gray;">x:Name</code><code style="color:black;">=</code><code style="color:blue;">&quot;<strong>MyFrame</strong>&quot;</code>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code>
<code style="color:gray;">BorderThickness</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code>
<code style="color:gray;">Margin</code><code style="color:black;">=</code><code style="color:blue;">&quot;10,10,10,101&quot;</code>
<code style="color:gray;">BorderBrush</code><code style="color:black;">=</code><code style="color:blue;">&quot;#FFB4B4B4&quot;</code>
<code style="color:gray;">Content</code><code style="color:black;">=</code><code style="color:blue;">&quot;Frame&quot;</code>
<code style="color:gray;">Padding</code><code style="color:black;">=</code><code style="color:blue;">&quot;10&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></div>
</div>
<br />
<br />
<strong><em>Page1.xaml</em>.cs</strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;"><strong>MyFrame</strong>.Navigate(</code><code style="color:teal;font-weight:bold;">new</code>
<code style="color:black;">Page2());</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
In the second example, we simply call the Frame&#39;s <a href="http://msdn.microsoft.com/en-us/library/system.windows.navigation.navigationwindow.navigate.aspx">
<strong><span style="color:#1e90ff;">Navigate</span></strong></a> method to load Page1
<br />
<br />
</div>
<h2><a name="NavigationService"></a>3. NavigationService</h2>
<div><br />
When you are using a Page within a&nbsp;NavigationWindow&nbsp;or Frame, you can navigate using&nbsp;the built in
<a href="http://msdn.microsoft.com/en-us/library/system.windows.navigation.navigationservice.aspx">
<strong>NavigationService</strong></a>. If you have nested navigation componants, like i have shown in the sample project, then each level has it&#39;s own NavigationService.<br />
<br />
<em><strong>Page2.xaml.cs</strong></em><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">this</code><code style="color:black;">.NavigationService.Navigate(</code><code style="color:teal;font-weight:bold;">new</code>
<code style="color:black;">Page3());</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
The code above uses the page&#39;s own NavigationService. The page&#39;s NavigationService&nbsp;uses MyFrame, not&nbsp;the main parent NavigationWindow&#39;s&nbsp;built-in frame.<br />
<br />
</div>
<h2><a name="Dashboard_Applications"></a>Dashboard Applications</h2>
<div><br />
The built in navigation framework is nice, and great for simple database management applications. However, the power of WPF means so much more is possible.<br />
&nbsp;<br />
By working with and updating &quot;areas&quot; of the screen, rather than the whole page, an application can come alive with effects and animations.&nbsp;<br />
<br />
Instead of Frames and Pages,&nbsp;the application consists of a main window (dashboard/stage),
<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.usercontrol.aspx">
<strong>UserControl</strong></a>s within that window,&nbsp;and various popup dialog windows.<br />
<br />
Instead of navigating between pages, controls are added into &quot;containers&quot;, which can either hold multiple&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.panel.children.aspx"><strong>Children</strong></a> (eg Grid,&nbsp;or just one logical
<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.border.child(v=vs.95).aspx">
<strong>Child</strong></a><br />
<br />
</div>
<h4><a name="Side-note_about_the_power_of_templates"></a>Side-note about the power of templates</h4>
<div><br />
With WPF, controls can even be created on the fly through binding collections of a class to the ItemsSource of&nbsp;controls like
<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.listbox.aspx">
<strong>ListBox</strong></a>, <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.datagrid(v=vs.95).aspx">
<strong>DataGrid</strong></a>,&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.itemscontrol.aspx"><strong>ItemsControl</strong></a>, etc.
<br />
<strong>ItemsControl</strong>s use&nbsp;<strong>ItemTemplate</strong>s &amp; <strong>DataTemplate</strong>s to define the &quot;blue-print&quot; of the control.<br />
<br />
This is a subject for another article, this one is simply to discuss direct manual manipulation methods, not automated control creation.<br />
<br />
</div>
<h2><a name="Adding_UserControls_to_XAML"></a>4.&nbsp;Adding UserControls to XAML</h2>
<div><br />
When you create a UserControl, either in your main project, or a separate library project, you need to firstly add&nbsp;the namespace for the control, so that you can reference it in XAML. The code below shows the Markup method of including a UserControl&nbsp;which was
 created in the same project.<br />
<br />
<em><strong>Page3.xaml</strong><br />
</em>
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Page</code>
<code style="color:gray;">x:Class</code><code style="color:black;">=</code><code style="color:blue;">&quot;<strong>ApplicationNavigation.View</strong>.Page3&quot;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">xmlns</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a>&quot;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">xmlns:x</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://schemas.microsoft.com/winfx/2006/xaml">http://schemas.microsoft.com/winfx/2006/xaml</a>&quot;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:gray;">Background</code><code style="color:black;">=</code><code style="color:blue;">&quot;#FFEBFFD5&quot;</code>
<code style="color:gray;">Title</code><code style="color:black;">=</code><code style="color:blue;">&quot;Page3&quot;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:gray;">xmlns:views</code><code style="color:black;">=</code><code style="color:blue;">&quot;clr-namespace:ApplicationNavigation.View&quot;</code><code style="color:black;">&gt;</code></strong></span></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;Auto&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">TextBlock</code>
<code style="color:gray;">Text</code><code style="color:black;">=</code><code style="color:blue;">&quot;Page 3&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Border</code>
<code style="color:gray;">x:Name</code><code style="color:black;">=</code><code style="color:blue;">&quot;MyStage&quot;</code>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code>
<code style="color:gray;">BorderThickness</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code>
<code style="color:gray;">CornerRadius</code><code style="color:black;">=</code><code style="color:blue;">&quot;10&quot;</code>
<code style="color:gray;">BorderBrush</code><code style="color:black;">=</code><code style="color:blue;">&quot;Black&quot;</code>
<code style="color:gray;">Margin</code><code style="color:black;">=</code><code style="color:blue;">&quot;10&quot;</code>
<code style="color:gray;">Padding</code><code style="color:black;">=</code><code style="color:blue;">&quot;10&quot;</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">views:UserControl1</code>
<code style="color:black;">/&gt;</code></strong></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Border</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Page</code><code style="color:black;">&gt;</code></span></div>
</div>
<br />
<br />
<br />
<strong><span style="font-size:14px;">Initializing a view with controls (as above) is a good start, but we&nbsp;often need to load controls into the view on the fly, from code.
<br />
The rest of the examples show various ways to do that.</span></strong><br />
<br />
</div>
<h2><a name="Parental_Guidance"></a>5. Parent Cast</h2>
<div><br />
If&nbsp;I complete a form and click it&#39;s submit button, then after the form is saved, I may want to navigate to the summary page.<br />
<br />
One of the most immediate and tightly-coupled methods of navigating away, based&nbsp;on events within a control, is for the control itself to&nbsp;load the next page into it&#39;s&nbsp;parent container, replacing itself with the next page.<br />
<br />
<strong><em>UserControl1.xaml.cs<br />
</em></strong>
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var parent = Parent
</code><code style="color:teal;font-weight:bold;">as</code> <code style="color:black;">
Border;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(parent != </code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">)</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">parent.Child =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
UserControl2(parent);</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
A problem with this approach is if&nbsp;we change the design of the parent page (for example changing the Border to a GroupBox) it will compile, but&nbsp;we get a null from the cast, so no navigation.<br />
<br />
<br />
</div>
<h2><a name="Inversion_of_Control_Dependancy_Injection_kind_of"></a>6. Inversion of Control / Dependancy Injection (kind of)</h2>
<div><br />
One way to ensure compile-time checks protect your method is to pass the parent in as a constructor parameter. In this example, it is defined as a Border.
<br />
<br />
<a href="http://en.wikipedia.org/wiki/Inversion_of_control"><strong>IoC</strong></a> and&nbsp;<a href="http://en.wikipedia.org/wiki/Dependency_injection"><strong>DI</strong></a> are based around this concept of passing the controller into the player. This is usually
 done with an interface, so all players know what to expect, no matter who the controller that uses them is.
<br />
<br />
<strong><em>UserControl2.xaml.cs</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">using</code>
<code style="color:black;">System.Windows;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">using</code>
<code style="color:black;">System.Windows.Controls;</code></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">namespace</code>
<code style="color:black;">ApplicationNavigation.View</code></span></div>
<div style="background-color:white;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">partial</code> <code style="color:teal;font-weight:bold;">
class</code> <code style="color:black;">UserControl2 : UserControl</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;"><strong>Border _parentBorder</strong>;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;"><strong>UserControl2(Border parentBorder)</strong></code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">_<strong>parentBorder = parentBorder</strong>;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">InitializeComponent();</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
</div>
<br />
This technique actually comes in useful a lot in a project&#39;s development, throughout most child UserControls and popup dialog windows.
<br />
<br />
A better variation of this would be to pass in a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/ms173171(v=vs.80).aspx"><strong>delegate method</strong></a>&nbsp;like a &quot;ReloadUser&quot; method, to tell the parent that data is saved, and needs to be repulled from the
 database.<br />
<br />
In this example, we set&nbsp;it&#39;s parent (Border) Child, thereby destroying itself.<br />
<br />
<strong><em>UserControl2.xaml.cs</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(_parentBorder != </code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">)</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">_parentBorder.Child =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
UserControl3();</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
<br />
</div>
<h2><a name="Application_Controller_MVC"></a>7. Application Controller (MVC)</h2>
<div><br />
The two methods above both pass control directly from control to control. One side effect of this is that navigation code is buried throughout the code.<br />
<br />
A better approach for any reasonable sized project is to centralize all main navigation code into one place.
<br />
This is similar to the MVC concept of a Controller that creates the View from the Model.<br />
This method works well with an MVVM based project too, navigation being a separate &quot;application level&quot; concern from the data anyway.
<br />
<br />
There are many ways and places to initialize such a class too. In this example we pass it in&nbsp;as we reach the part of the project that introduces this &quot;stage&quot; that will be used.<br />
<br />
<strong><em>Page3.xaml.cs</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">Page3()</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">InitializeComponent();</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">ApplicationController.RootBorder = MyStage;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">...</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
An Application Controller for an otherwise MVVM based project typically has methods like
<em>ShowUserPage(int userId)</em> which creates the View, the ViewModel and binds the ViewModel to the DataContext of the View (see a later example). In&nbsp;this simpler&nbsp;example, it just takes the next View as a parameter and loads it into the&nbsp;registered root control.<br />
<br />
<strong><em>ApplicationController.cs</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">using</code>
<code style="color:black;">System.Windows.Controls;</code></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">namespace</code>
<code style="color:black;">ApplicationNavigation.Helpers</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">class</code> <code style="color:black;">
ApplicationController</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">static</code> <code style="color:black;">
Border RootBorder { </code><code style="color:teal;font-weight:bold;">get</code><code style="color:black;">;
</code><code style="color:teal;font-weight:bold;">set</code><code style="color:black;">; }</code></span></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">static</code> <code style="color:teal;font-weight:bold;">
void</code> <code style="color:black;">LoadUserControl(UserControl nextControl)</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">RootBorder.Child = nextControl;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
This&nbsp;can then be called from anywhere in the project, to navigate the application to the next page.<br />
<br />
<strong><em>UserControl3.xaml.cs</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&nbsp;&nbsp;&nbsp; ApplicationController.LoadUserControl(newControl);</code></span></div>
</div>
<br />
<br />
</div>
<h2><a name="Events"></a>8. Events</h2>
<div><br />
Next&nbsp;is a traditional way of passing control back to a parent control - through classic event handling by the parent.<br />
<br />
In our previous example, before we pass the&nbsp;UserConrtrol4 into LoadUserControl, an event handler is attached to an event of the control:<br />
<br />
<strong><em>UserControl3.xaml.cs (again)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var newControl =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
<strong>UserControl4</strong>();</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">newControl.<strong>NavigateEvent &#43;=
</strong></code><code style="color:teal;font-weight:bold;">new</code><strong> </strong>
<code style="color:black;"><strong>EventHandler(newControl_NavigateEvent)</strong>;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">ApplicationController.LoadUserControl(newControl);</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">void</code>
<code style="color:black;"><strong>newControl_NavigateEvent</strong>(</code><code style="color:teal;font-weight:bold;">object</code>
<code style="color:black;">sender, EventArgs e)</code></span></div>
<div style="background-color:white;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">ApplicationController.LoadUserControl(</code><code style="color:teal;font-weight:bold;">new</code>
<code style="color:black;"><strong>UserControl5</strong>());</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
This is then triggered in the usual manner:<br />
<br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">event</code> <code style="color:black;">
EventHandler <strong>NavigateEvent</strong>;</code></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">UserControl4()</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">InitializeComponent();</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:white;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(NavigateEvent != </code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">) NavigateEvent(</code><code style="color:teal;font-weight:bold;">this</code><code style="color:black;">,
</code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">);</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
You could even pass the next page or a token back. <br />
This method, like any event based code, can cause memory leak problems, if not disposed of properly.<br />
So this is a last resort method of communications, for many.<br />
<br />
</div>
<h2><a name="Mediator"></a>9. Mediator</h2>
<div><br />
The&nbsp;<a href="http://en.wikipedia.org/wiki/Mediator_pattern"><strong>Mediator</strong>
<strong>pattern</strong></a> represents a global level of communications. You simply have to register listeners, anywhere in code, and&nbsp;when you&nbsp;fire off a signal from anywhere else in the code, the listeners all still react.
<br />
<br />
This is one of my personal favorites for passing signals around a very modular project. It allows you to pass signals from ViewModel to ViewModel, when there isn&#39;t a VisualTree to traverse. It is also very easy to start using it all the time, which leads to
 &quot;spaghetti coding&quot;, so should be used sparingly.<br />
<br />
The following example of a Mediator covers most scenarios where you would need cross-application messaging:<br />
<br />
<strong><em>Mediator.cs<br />
</em></strong>
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">static</code>
<code style="color:black;">IDictionary&lt;</code><code style="color:teal;font-weight:bold;">string</code><code style="color:black;">, List&lt;Action&lt;</code><code style="color:teal;font-weight:bold;">object</code><code style="color:black;">&gt;&gt;&gt; pl_dict =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
Dictionary&lt;</code><code style="color:teal;font-weight:bold;">string</code><code style="color:black;">, List&lt;Action&lt;</code><code style="color:teal;font-weight:bold;">object</code><code style="color:black;">&gt;&gt;&gt;();</code></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">static</code>
<code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">
void</code> <code style="color:black;">Register(</code><code style="color:teal;font-weight:bold;">string</code>
<code style="color:black;">token, Action&lt;</code><code style="color:teal;font-weight:bold;">object</code><code style="color:black;">&gt; callback)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(!pl_dict.ContainsKey(token))</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var list =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
List&lt;Action&lt;</code><code style="color:teal;font-weight:bold;">object</code><code style="color:black;">&gt;&gt;();</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">list.Add(callback);</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">pl_dict.Add(token, list);</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">else</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">bool</code>
<code style="color:black;">found = </code><code style="color:teal;font-weight:bold;">false</code><code style="color:black;">;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">foreach</code>
<code style="color:black;">(var item </code><code style="color:teal;font-weight:bold;">in</code>
<code style="color:black;">pl_dict[token])</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(item.Method.ToString() == callback.Method.ToString())</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">found =
</code><code style="color:teal;font-weight:bold;">true</code><code style="color:black;">;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(!found)</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">pl_dict[token].Add(callback);</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
<br />
This is a fairly simple, but complete&nbsp;example of the technique. <br />
It is just based on a unique key AND delegate method name. However, this will cover&nbsp;most common scenarios.<br />
<br />
A&nbsp;listener was registered back in Page3.xaml.cs. <br />
It registers GoNextUserControl as the method delegate to trigger when a message with the token &quot;NavigateMessage&quot; is heard.<br />
<br />
<strong><em>Page3.xaml.cs (again)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">Page3()</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">InitializeComponent();</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">...</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">Mediator.Register(</code><code style="color:blue;">&quot;NavigateMessage&quot;</code><code style="color:black;">, GoNextUserControl);</code></strong></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">void</code>
<code style="color:black;"><strong>GoNextUserControl</strong>(</code><code style="color:teal;font-weight:bold;">object</code>
<code style="color:black;">param)</code></span></div>
<div style="background-color:white;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">MyStage.Child = param
</code><code style="color:teal;font-weight:bold;">as</code> <code style="color:black;">
UserControl6;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
For a better example of the&nbsp;Mediator, see Josh Smith&#39;s Messenger<strong> </strong>
class in<strong> </strong><a href="http://www.galasoft.ch/mvvm/"><strong>MVVMLite</strong></a>, or&nbsp;learn from Sacha Barber&#39;s
<a href="http://www.codeproject.com/Articles/35277/MVVM-Mediator-Pattern"><strong>Mediator example</strong></a>, which&nbsp;he added to&nbsp;<a href="http://www.codeproject.com/Articles/38278/WPF-If-Carlsberg-did-MVVM-Frameworks-Part-2-of-n#MediatorMessaging">Cinch</a>.<br />
<br />
</div>
<h2><a name="Binding_amp_INotifyPropertyChanged"></a>10. Binding &amp; INotifyPropertyChanged</h2>
<div><br />
<strong><span style="font-size:13px;">WPF binding is NOT WinForm binding. </span></strong><br />
<br />
WPF binding is <strong>easy to use</strong>, <strong>incredibly flexible</strong> and reduces HUGE swathes of code that you&#39;d normally have to write, to&nbsp;shuttle data to and from the UI.
<br />
There is an initial extra hit implementing&nbsp;<a href="http://msdn.microsoft.com/en-us/library/ms229614.aspx"><strong>INotifyPropertyChanged</strong></a> (INPC)&nbsp;in your class and properties, which puts some off initially, but the pay-off is truly immense.
<br />
You can literally write an entire database driven project, with the only code being the database&nbsp;layer.<br />
<br />
Binding to a property means you can pull the initial value straight into the control, and changes will be sent back to the bound property.
<br />
However, if you change the property in code, the Ui would not normally know of this change without some kind of notification.
<br />
That is what INotifyPropertyChanged does. It&nbsp;fires&nbsp;off a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.propertychanged.aspx"><strong>PropertyChanged</strong></a> event.
<br />
<br />
In this example, for expediency, I am using the code-behind as the ViewModel, simply by settng the page&#39;s DataContext to itself.<br />
<br />
<strong><em>UserControl6.xaml.cs (part 1)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">namespace ApplicationNavigation.View</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">public partial class UserControl6 : UserControl,
<strong>INotifyPropertyChanged</strong></code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">UIElement _CurrentPage;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">public UIElement CurrentPage</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">get</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">return _CurrentPage;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">set</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">if (_CurrentPage != value)</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">_CurrentPage = value;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;"><strong>RaisePropertyChanged(&quot;CurrentPage&quot;);</strong></code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">public UserControl6()</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">InitializeComponent();</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;"><strong>DataContext = this;</strong></code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">void RaisePropertyChanged(string prop)</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">if (PropertyChanged != null) { PropertyChanged(this, new PropertyChangedEventArgs(prop)); }</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">public event PropertyChangedEventHandler PropertyChanged;</code></span></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;"></code></span>&nbsp;</div>
<div style="background-color:#f5f5f5;"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... see part 2</span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
Here is a UserControl which implements INPC. For these type of properties, being in a UserControl, we could have just used a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.dependencyproperty.aspx"><strong>DependencyProperty</strong></a> on
 UserContrrol6, as it is a DependencyObject anyway, so it already handles such update notifications (see next example).<br />
<br />
<a href="http://msdn.microsoft.com/en-us/library/ms752914.aspx">http://msdn.microsoft.com/en-us/library/ms752914.aspx</a>&nbsp;- Dependency Properties Overview<br />
<br />
When you create a binding, to this &quot;<em>CurrentPage</em>&quot; property, or a DependencyProperty,&nbsp;a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.weakeventmanager.aspx"><strong>WeakEventManager</strong></a> is automatically created for the binding,
 which listens for PropertyChanged events and updates the specific&nbsp;bindings, when it&nbsp;hears one.<br />
<br />
<strong><em>UserControl6.xaml</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&nbsp;&nbsp;&nbsp; &lt;</code><code style="color:teal;font-weight:bold;">ContentPresenter</code>
<code style="color:gray;">Content</code><code style="color:black;">=</code><code style="color:blue;">&quot;{Binding CurrentPage}&quot;</code>
<code style="color:gray;">Grid.RowSpan</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code><code style="color:black;">/&gt;</code></span></div>
</div>
<br />
Now all we do is update the property from code, as would be the MVVM way, and it automatically updates the UI with the new control.<br />
<br />
<strong><em>UserControl6.xaml.cs (part 2)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">private</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
Button_Click(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">
sender, RoutedEventArgs e)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">CurrentPage =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
UserControl7();</code></strong></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
</div>
<h2><a name="MVVM_Dashboard_Example"></a>11. MVVM Dashboard Example</h2>
<div><br />
This final example is an MVVM style dashboard application, which loads user details into a UserControl, depending on the ComboBox selection.
<br />
<br />
<strong><em>UserControl7.xaml</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;Auto&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:gray;">Height</code><code style="color:black;">=</code><code style="color:blue;">&quot;22&quot;</code>
<code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">RowDefinition</code>
<code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid.RowDefinitions</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">TextBlock</code>
<code style="color:gray;">Text</code><code style="color:black;">=</code><code style="color:blue;">&quot;UserControl 7&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">StackPanel</code>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;1&quot;</code>
<code style="color:gray;">Orientation</code><code style="color:black;">=</code><code style="color:blue;">&quot;Horizontal&quot;</code>
<code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">TextBlock</code>
<code style="color:gray;">FontWeight</code><code style="color:black;">=</code><code style="color:blue;">&quot;Bold&quot;</code>
<code style="color:gray;">Text</code><code style="color:black;">=</code><code style="color:blue;">&quot;10. MVVM - Please select:&quot;</code>
<code style="color:gray;">Margin</code><code style="color:black;">=</code><code style="color:blue;">&quot;0,0,10,0&quot;</code>
<code style="color:gray;">VerticalAlignment</code><code style="color:black;">=</code><code style="color:blue;">&quot;Center&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">ComboBox</code>
<code style="color:gray;">ItemsSource</code><code style="color:black;">=</code><code style="color:blue;">&quot;{StaticResource People}&quot;</code>
<code style="color:gray;">DisplayMemberPath</code><code style="color:black;">=</code><code style="color:blue;">&quot;FirstName&quot;</code>
<code style="color:gray;">SelectedItem</code><code style="color:black;">=</code><code style="color:blue;">&quot;{Binding SelectedPerson, Mode=TwoWay}&quot;</code>
</strong><code style="color:black;"><strong>/&gt;</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">StackPanel</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">GroupBox</code>
<code style="color:gray;">Margin</code><code style="color:black;">=</code><code style="color:blue;">&quot;10&quot;</code>
<code style="color:gray;">Header</code><code style="color:black;">=</code><code style="color:blue;">&quot;User Management&quot;</code>
<strong><code style="color:gray;">Content</code><code style="color:black;">=</code><code style="color:blue;">&quot;{Binding ManagementControl}&quot;</code></strong>
<code style="color:gray;">Grid.Row</code><code style="color:black;">=</code><code style="color:blue;">&quot;2&quot;</code><code style="color:black;">/&gt;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">Grid</code><code style="color:black;">&gt;</code></span></div>
</div>
<br />
This actual scenario best suits a master/detail style user interface, where the details section is bound directly to
<a href="http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.selecteditem.aspx">
ComboBox.SelectedItem</a>. However for the purpose of this <em>slightly contrived&nbsp;</em>example, we are using the selection to go and build the View/ViewModel, using the SelectedItem in the ViewModel DataContext.<br />
<br />
Unlike the last basic INPC&nbsp;example,&nbsp;UserControl7 has a <a href="http://msdn.microsoft.com/en-us/library/system.windows.dependencyproperty.aspx">
<strong><span style="color:#1e90ff;">DependencyProperty</span></strong></a> for the UIElement to be placed.<br />
<br />
<strong><em>UserControl7.xaml.cs (part 1)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">UIElement <strong>ManagementControl</strong></code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">get</code>
<code style="color:black;">{ </code><code style="color:teal;font-weight:bold;">return</code>
<code style="color:black;">(UIElement)GetValue(ManagementControlProperty); }</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">set</code>
<code style="color:black;">{ SetValue(ManagementControlProperty, value); }</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">static</code> <code style="color:teal;font-weight:bold;">
readonly</code> <code style="color:black;">DependencyProperty ManagementControlProperty =</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">DependencyProperty.Register(</code><code style="color:blue;">&quot;<strong>ManagementControl</strong>&quot;</code><code style="color:black;">,
</code><code style="color:teal;font-weight:bold;">typeof</code><code style="color:black;">(UIElement),
</code><code style="color:teal;font-weight:bold;">typeof</code><code style="color:black;">(UserControl7),
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
UIPropertyMetadata(</code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">));</code></span></span></div>
</div>
<br />
This&nbsp;notifies the same way as the INPC example, but instead of applying change logic to the property setter, we can now define a&nbsp;<a href="http://msdn.microsoft.com/en-us/library/system.windows.propertychangedcallback.aspx">PropertyChangedCallback Delegate</a><br />
<br />
<strong><em>UserControl7.xaml.cs (part 2)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">Person <strong>SelectedPerson</strong></code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">get</code>
<code style="color:black;">{ </code><code style="color:teal;font-weight:bold;">return</code>
<code style="color:black;">(Person)GetValue(SelectedPersonProperty); }</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">set</code>
<code style="color:black;">{ SetValue(SelectedPersonProperty, value); }</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">}</code></span></div>
<div style="background-color:#f5f5f5;"><span>&nbsp;</span></div>
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">static</code> <code style="color:teal;font-weight:bold;">
readonly</code> <code style="color:black;">DependencyProperty SelectedPersonProperty =</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">DependencyProperty.Register(</code><code style="color:blue;">&quot;<strong>SelectedPerson</strong>&quot;</code><code style="color:black;">,
</code><code style="color:teal;font-weight:bold;">typeof</code><code style="color:black;">(Person),
</code><code style="color:teal;font-weight:bold;">typeof</code><code style="color:black;">(UserControl7),
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
UIPropertyMetadata(</code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">,
<strong>SelectedPersonChanged</strong>));</code></span></span></div>
<div style="background-color:white;"><span>&nbsp;</span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:teal;font-weight:bold;">static</code>
<code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">
<strong>SelectedPersonChanged</strong>(DependencyObject obj, DependencyPropertyChangedEventArgs e)</code></span></div>
<div style="background-color:white;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var person = e.NewValue
</code><code style="color:teal;font-weight:bold;">as</code> <code style="color:black;">
Person;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">if</code>
<code style="color:black;">(person != </code><code style="color:teal;font-weight:bold;">null</code><code style="color:black;">)</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var view =
<strong>ApplicationController.MakePersonAdminControl(person.Id);</strong></code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">(obj
</code><code style="color:teal;font-weight:bold;">as</code> <code style="color:black;">
UserControl7).ManagementControl = view;</code></strong></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
The great thing about DependancyPropertyChanged handler is that you have access to the old and new values in the args, and also the original object that is using the property (UserControl7). So we can access and use that object directly.<br />
<br />
<a href="http://msdn.microsoft.com/en-us/library/ms745795.aspx">http://msdn.microsoft.com/en-us/library/ms745795.aspx</a>&nbsp;- Dependency Property Callbacks and Validation<br />
<br />
We have again&nbsp;used the ApplicationController class, to manage the task of creating View &amp; ViewModel. This keeps UI related tasks grouped and separated into one place.<br />
<br />
<strong><em>ApplicationController.cs (again)</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:teal;font-weight:bold;">static</code> <code style="color:black;">
UIElement <strong>MakePersonAdminControl</strong>(</code><code style="color:teal;font-weight:bold;">int</code>
<code style="color:black;">id)</code></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">{</code></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var view =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
PersonAdminControl(); </code><code style="color:green;">// Note: No parameters, just a dumb skin</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><strong><code style="color:black;">view.DataContext =
</code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">
PersonViewModel(id);</code></strong></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">return</code>
<code style="color:black;">view;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code style="color:black;">}</code></span></div>
</div>
<br />
As shown above, the ViewModel is created from the&nbsp;id parameter, and attached to the View.<br />
<br />
In our example, the View is a TabControl, with two tabs.&nbsp;There are a number of control binding examples included,&nbsp;including ComboBox and Slider.<br />
As an extra, extra bonus, this&nbsp;example also shows how to create dummy or static data in XAML<br />
<br />
<strong><em>App.xaml</em></strong><br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">x:Array</code>
<code style="color:gray;">x:Key</code><code style="color:black;">=</code><code style="color:blue;">&quot;People&quot;</code>
<code style="color:gray;">Type</code><code style="color:black;">=</code><code style="color:blue;">&quot;model:Person&quot;</code>
<code style="color:gray;">xmlns:x</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://schemas.microsoft.com/winfx/2006/xaml">http://schemas.microsoft.com/winfx/2006/xaml</a>&quot;</code>
<code style="color:gray;">xmlns:sys</code><code style="color:black;">=</code><code style="color:blue;">&quot;clr-namespace:System;assembly=mscorlib&quot;</code><code style="color:black;">&gt;</code></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;1&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;Peter&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;Laker&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;42&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;1&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;90&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.StartDate</code><code style="color:black;">&gt;12/12/12 0:0:0&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.StartDate</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;2&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;Joe&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;Bloggs&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;30&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;3&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;50&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.StartDate</code><code style="color:black;">&gt;11/11/11&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.StartDate</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;3&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Id</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;Jane&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.FirstName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;Doe&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.LastName</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;24&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.Age</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;2&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.DepartmentId</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;0&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.HappyRating</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">model:Person.IsDead</code><code style="color:black;">&gt;True&lt;/</code><code style="color:teal;font-weight:bold;">model:Person.IsDead</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:#f5f5f5;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">model:Person</code><code style="color:black;">&gt;</code></span></span></div>
<div style="background-color:white;"><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">x:Array</code><code style="color:black;">&gt;</code></span></div>
</div>
<br />
In a real application, this collection would have been created, exposed and bound to, in the ViewModel.<br />
<div class="reCodeBlock" style="border:1px solid #778899;overflow-y:auto;">
<div style="background-color:white;"><span><code style="color:teal;font-weight:bold;">public</code>
<code style="color:black;">ObservableCollection&lt;Person&gt; Persons { </code><code style="color:teal;font-weight:bold;">get</code><code style="color:black;">;
</code><code style="color:teal;font-weight:bold;">set</code><code style="color:black;">; }</code></span></div>
</div>
<br />
The xaml array shown in the project is just to introduce a way of using static data.<br />
<br />
<hr />
<br />
<br />
<strong>The project described here is available to download at MSDN Samples : <br />
</strong><br />
<a href="http://code.msdn.microsoft.com/How-to-Build-Manage-and-fdd0074a"><strong><span style="font-size:14px;">http://code.msdn.microsoft.com/How-to-Build-Manage-and-fdd0074a</span></strong></a><br />
<br />
</div>

</div>
    
    

    <!-- AUTO ADDED BELOW -->

    <div id='theFooter'></div>

    <script type='text/javascript'>
    
        var headerContainer = jQuery('#theHeader');
        jQuery.ajax({
            url: 'include/GitHubPagesWikiHeader.html',
            success: function (data) {
                headerContainer.html(data);
            }
        });

        var footerContainer = jQuery('#theFooter');
        jQuery.ajax({
            url: 'include/GitHubPagesWikiFooter.html',
            success: function (data) {
                footerContainer.html(data);
            }
        });       

    </script>
</body>

</html>